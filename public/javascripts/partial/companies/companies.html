<div ng-controller="companiesCtrl">
	<md-toolbar>
		<div class="md-toolbar-tools">
			<h2>Companies</h2>
			<span flex></span>
			<!-- <md-button class="md-raised" ng-click="createAccount()">Create Account</md-button> -->
		</div>
	</md-toolbar>
	<md-tabs md-dynamic-height="true">
		<md-tab label="Log Notes">
				<!-- <form name="logNotes"> -->
					<div layout="column">
						<md-autocomplete md-selected-item="notes.company" md-min-length="3" md-search-text="companySearch" md-items="company in filteredCompanies = (companies | filter:companySearch)" md-item-text="company.Name" md-floating-label="Account (Search by Name, City, or Status)">
							<md-item-template>
								{{company.Name}}
							</md-item-template>
						</md-autocomplete>
						<md-input-container>
							<label>Subject</label>
							<input ng-model="notes.Subject" type="text">
						</md-input-container>
						<md-input-container>
							<label>Notes</label>
							<textarea ng-model="notes.Description" columns="1" rows="5"></textarea>
						</md-input-container>
					</div>
					<md-autocomplete md-selected-item="notes.user" md-search-text="userSearch" md-items="user in filteredUsers = (users | filter:userSearch)" md-item-text="user.Name" md-floating-label="You">
						<md-item-template>
							{{user.Name}}
						</md-item-template>
					</md-autocomplete>
				<!-- </form> -->
				<md-button class="md-raised" ng-click="logNotes(notes)">Log Notes</button>
		</md-tab>
		<md-tab label="List (Accounts)">
			<md-input-container>
				<label>Search</label>
				<input type="text" ng-model="searchQuery">
			</md-input-container>
			<md-list>
				<md-virtual-repeat-container style="height:500px">
					<md-list-item flex ui-sref="company({companyId: company.Id})" md-virtual-repeat="company in filteredCompanies = (companies | filter:searchQuery)" class="md-3-line repeated-item">
						<div class="md-list-item-text">
						<h3>{{company.Name}}: {{supporter.VFA_City__c}}</h3>
						<p>{{company.Website}}</p>
						<p>{{company.CoPa_Association__c}}</p>
					</div>
					</md-list-item>
				</md-virtual-repeat-container>
			<md-list>
		</md-tab>
	</md-tabs>





	<!-- <div class="row">
		<div class="col-md-2">
			<h2>Filters</h2>
			Search: <input type="text" ng-model="searchKey">
			<br>
			<hr>
			Sort By: 
			<br>
			<button type="button" class="btn btn-info" ng-click="orderBy(name)">Name</button>
			<br>
			<button type="button" class="btn btn-info" ng-click="orderBy(city)">City</button>
			<br>
			<button type="button" class="btn btn-info" ng-click="orderBy(association)">Association</button>
		</div>
		<div class="col-md-5">
			<h2>Companies</h2>
			<div class="row" ng-repeat="company in companies | filter:searchKey">
				
				<div class="col-md-2">{{company.VFA_City__c}}</div>
				<div class="col-md-2">{{company.Name}}</div>
				<div class="col-md-2">{{company.CoPa_Association__c}}</div>
				<div class="col-md-2">
					<a href="{{company.Website}}" target="_blank">url link</a>
				</div>
				<div class="col-md-2">
					<button ui-sref="company({companyId: company.Id})">View</button>
				</div>
			</div>	
		</div>
	</div> -->
</div>
