<div ng-controller="SupporterProfileCtrl" ng-cloak>
	<md-toolbar>
		<div class="md-toolbar-tools">
			<h2>{{supporterInfo.Name}}</h2>
			<span flex></span>
			<!-- <md-button class="md-raised">+Contact</md-button>
			<md-button class="md-raised">+Opportunity</md-button> -->
		</div>
	</md-toolbar>
	<md-tabs md-dynamic-height="true">
		<md-tab label="Log Notes">
			<div layout="column">
				<md-autocomplete md-selected-item="notes.contact" md-items="contact in contacts" md-item-text="contact.Name" md-search-text="contactSearchText" md-floating-label="Contact">
					<md-item-template>
						{{contact.Name}}
					</md-item-template>
				</md-autocomplete>
				<md-autocomplete md-selected-item="notes.relatedTo" md-items="listItem in relatedToList" md-item-text="listItem.name" md-search-text="itemSearchText" md-floating-label="Related To (Account or Opportunity)">
					<md-item-template>
						{{listItem.name}}
					</md-item-template>
				</md-autocomplete>
				<md-input-container>
					<label>Subject</label>
					<input ng-model="notes.Subject" type="text">
				</md-input-container>
				<md-input-container>
					<label>Notes</label>
					<textarea ng-model="notes.Description" columns="1" rows="5"></textarea>
				</md-input-container>
				<md-autocomplete md-selected-item="notes.user" md-items="user in users" md-item-text="user.Name" md-floating-label="You">
					<md-item-template>
						{{user.Name}}
					</md-item-template>
				</md-autocomplete>
				<md-button class="md-raised" ng-click="logNotes(notes)">Log Notes</button>
			</div>
		</md-tab>
		<md-tab label="Background">
			<md-content layout-padding>
				<h4>City</h4>
				<p>{{supporterInfo.VFA_City__c}}</p>
				<h4>Website</h4>
				<p>{{supporterInfo.Website}}</p>
				<h4>Description</h4>
				<p>{{supporterInfo.Description}}</p>
				<h4>Twitter</h4>
				<p>{{supporterInfo.Twitter_Handle__c}}</p>
			</md-content>
		</md-tab>
		<md-tab label="Contacts">
			<md-list>
				<md-list-item class="md-3-line" ng-repeat="contact in contacts" layout="column"> <!-- add ui-sref="contact({contactId: contact.Id})" when ready to make profiles -->
					<div class="md-line-item-text">
						<h3>{{contact.Name}}</h3>
						<h4>{{contact.Title}}</h4>
						<p>{{contact.Email}}</p>
					</div>
				</md-list-item>
			</md-list>
		</md-tab>
		<md-tab label="Opportunities">
			<md-list>
				<md-list-item class="md-3-line" ng-repeat="opportunity in opportunities" layout="column" > <!-- add ui-sref="opportunity({opportunityId: opportunity.Id})" when ready to add opportunity -->
					<div class="md-line-item-text">	
						<h3>{{opportunity.Name}}</h3>
						<h4>{{opportunity.Description}}</h4>
						<p>Expected Close Date: {{opportunity.CloseDate}}</p>
					</div>
				</md-list-item>
			</md-list>
		</md-tab>
	</md-tabs>
</div>